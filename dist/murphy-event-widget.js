!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(3),o=n(4);n.d(t,"h",function(){return r.a}),n.d(t,"app",function(){return i.a}),n.d(t,"Router",function(){return o.a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=n(5),u=r(o),a=n(6),l=r(a),c=n(7),d=r(c);n(8);var f;(0,i.app)({state:{loaded:!1,id:null,name:null,tickets:null,date:null,basket:[]},view:function(e,t){if(!e.loaded)return(0,i.h)(u.default,null,"loading...");var n=function(t){return e.basket.filter(function(e){return e.id===t}).length};return(0,i.h)(u.default,null,(0,i.h)("h2",null,e.name),"happening on ",(0,i.h)("strong",null,e.date),(0,i.h)("br",null),(0,i.h)("br",null),(0,i.h)("i",null,"tickets available"),e.tickets.map(function(e){return(0,i.h)(l.default,{ticket:e,added:n(e.id),onSelect:t.ticketClicked})}),(0,i.h)("button",{onclick:t.showOrder,id:"buy"},"Click here to buy"),e.showingOrder&&(0,i.h)(d.default,{tickets:e.tickets,basket:e.basket,hideOrder:t.hideOrder}))},actions:{consume:function(e,t,n){console.log("actions consume"),console.log(n);var r=new Date(n.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return Object.assign({},n,{date:r,loaded:!0})},ticketClicked:function(e,t,n){return console.log(n),{basket:[{id:n.id,name:n.name,price:n.price}].concat(e.basket)}},showOrder:function(e,t){return document.getElementById("buy").blur(),{showingOrder:!0}},hideOrder:function(e,t){return{showingOrder:!1}}},events:{loaded:function(e,t){f=function(e){return t.consume(e.event)}}}}),window.EventWidget={consume:function(e){console.log("return consume"),f(e)}}},function(e,t,n){"use strict";t.a=function(e,t){for(var n,r=[],i=[],o=arguments.length;o-- >2;)r[r.length]=arguments[o];for(;r.length;)if(Array.isArray(n=r.pop()))for(var o=n.length;o--;)r[r.length]=n[o];else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),i[i.length]=n);return"string"==typeof e?{tag:e,data:t||{},children:i}:e(t,i)}},function(e,t,n){"use strict";t.a=function(e){function t(e,n,u){Object.keys(n||[]).map(function(a){var l=n[a],c=u?u+"."+a:a;"function"==typeof l?e[a]=function(e){var t=l(v,g,r("action",{name:c,data:e}).data,r);if(null==t||"function"==typeof t.then)return t;i(v=o(v,r("update",t)),p)}:t(e[a]||(e[a]={}),l,c)})}function n(){i(v,p),r("loaded")}function r(e,t){return(m[e]||[]).map(function(e){var n=e(v,g,t,r);null!=n&&(t=n)}),t}function i(t,n){h=f(e.root||(e.root=document.body),h,s,s=r("render",n)(t,g))}function o(e,t){var n={};if("object"!=typeof t||Array.isArray(t))return t;for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function u(e,t){if("string"==typeof e)var n=document.createTextNode(e);else{for(var n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),r=0;r<e.children.length;)n.appendChild(u(e.children[r++],t));for(var r in e.data)"oncreate"===r?e.data[r](n):a(n,r,e.data[r])}return n}function a(e,t,n,r){if("key"===t);else if("style"===t)for(var i in o(r,n=n||{}))e.style[i]=n[i]||"";else{try{e[t]=n}catch(e){}"function"!=typeof n&&(n?e.setAttribute(t,n):e.removeAttribute(t))}}function l(e,t,n){for(var r in o(t,n)){var i=n[r],u="value"===r||"checked"===r?e[r]:t[r];"onupdate"===r&&i?i(e):i!==u&&a(e,r,i,u)}}function c(e){if(e&&(e=e.data))return e.key}function d(e,t,n){function r(){e.removeChild(t)}(n.data&&n.data.onremove||r)(t,r)}function f(e,t,n,r){if(null==n)t=e.insertBefore(u(r),t);else if(r.tag&&r.tag===n.tag){l(t,n.data,r.data);for(var i=r.children.length,o=n.children.length,a={},s=[],h={},v=0;v<o;v++){var p=t.childNodes[v];s[v]=p;var g=n.children[v],m=c(g);null!=m&&(a[m]=[p,g])}for(var v=0,b=0;b<i;){var p=s[v],g=n.children[v],y=r.children[b],m=c(g);if(h[m])v++;else{var k=c(y),w=a[k]||[];null==k?(null==m&&(f(t,p,g,y),b++),v++):(m===k?(f(t,w[0],w[1],y),v++):w[0]?(t.insertBefore(w[0],p),f(t,w[0],w[1],y)):f(t,p,null,y),b++,h[k]=y)}}for(;v<o;){var g=n.children[v],m=c(g);null==m&&d(t,s[v],g),v++}for(var v in a){var w=a[v],O=w[1];h[O.data.key]||d(t,w[0],O)}}else if(r!==n){var v=t;e.replaceChild(t=u(r),v)}return t}for(var s,h,v={},p=e.view,g={},m={},b=-1,y=e.mixins||[];b<y.length;b++){var k=y[b]?y[b](e):e;null!=k.mixins&&k!==e&&(y=y.concat(k.mixins)),null!=k.state&&(v=o(v,k.state)),t(g,k.actions),Object.keys(k.events||[]).map(function(e){m[e]=(m[e]||[]).concat(k.events[e])})}"l"!==document.readyState[0]?n():addEventListener("DOMContentLoaded",n)}},function(e,t,n){"use strict";t.a=function(e,t){function n(n){for(var r,i={},o=0,u=e.view.length;o<u;o++){var a=e.view[o][0],l=[];r||n.replace(RegExp("*"===a?"."+a:"^"+a.replace(/\//g,"\\/").replace(/:([\w]+)/g,function(e,t){return l.push(t),"([-\\.\\w]+)"})+"/?$","g"),function(){for(var n=1;n<arguments.length-2;)i[l.shift()]=arguments[n++];r=a,t=e.view[o][1]})}return{match:r,params:i}}return{state:{router:n(location.pathname)},actions:{router:{match:function(e,t,r,i){return{router:i("route",n(r))}},go:function(e,t,n){history.pushState({},"",n),t.router.match(n.split("?")[0])}}},events:{loaded:function(e,t){function n(){t.router.match(location.pathname)}n(),addEventListener("popstate",n)},render:function(){return t}}}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){return(0,r.h)("div",{class:"event-widget"},(0,r.h)("header",null,"event"),(0,r.h)("main",null,t))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){var n=e.ticket,i=e.onSelect,o=e.added,u=function(){i(n)};return(0,r.h)("div",{class:"ticket-option"},(0,r.h)("button",{onclick:u,style:{visibility:o===n.available?"hidden":"visible"}},"Add"),(0,r.h)("h3",null,"$",n.price," - ",n.name),(0,r.h)("div",null,"Available: ",n.available,(0,r.h)("br",null),"Added: ",o))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){var n=e.tickets,i=e.basket,o=e.hideOrder,u=n.filter(function(e){return i.some(function(t){return t.id===e.id})}),a=function(e){return i.filter(function(t){return t.id===e}).length},l=function(e,t){return e*t},c=i.reduce(function(e,t){return e+Number(t.price)},0);return(0,r.h)("div",{class:"your-order"},(0,r.h)("h3",null,"Your Order"),u.length?(0,r.h)("ul",null,u.map(function(e){return(0,r.h)("li",null,(0,r.h)("div",null,e.name," - ",a(e.id)," added at $",e.price," per ticket"),(0,r.h)("div",null,"$",l(e.price,a(e.id))))})):(0,r.h)("i",null,"Sorry, but you have not added any tickets.  Go for it!"),(0,r.h)("hr",null),(0,r.h)("b",null,"Total: $",c),(0,r.h)("footer",null,(0,r.h)("button",{onclick:o},"Cancel"),(0,r.h)("button",null,"Submit Order")))}},function(e,t){}]);